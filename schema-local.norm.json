{
  "tables": {
    "campaign_recipients": {
      "columns": [
        {
          "cid": 0,
          "name": "id",
          "type": "INTEGER",
          "notnull": 0,
          "dflt_value": null,
          "pk": 1
        },
        {
          "cid": 1,
          "name": "campaign_id",
          "type": "INTEGER",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 2,
          "name": "contact_id",
          "type": "INTEGER",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 3,
          "name": "phone",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 4,
          "name": "status",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": "'pending'",
          "pk": 0
        },
        {
          "cid": 5,
          "name": "message_sid",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 6,
          "name": "sent_at",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 7,
          "name": "error_message",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 8,
          "name": "created_at",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": "datetime('now')",
          "pk": 0
        }
      ],
      "foreignKeys": [
        {
          "id": 0,
          "seq": 0,
          "table": "contacts",
          "from": "contact_id",
          "to": "id",
          "on_update": "NO ACTION",
          "on_delete": "CASCADE",
          "match": "NONE"
        },
        {
          "id": 1,
          "seq": 0,
          "table": "campaigns",
          "from": "campaign_id",
          "to": "id",
          "on_update": "NO ACTION",
          "on_delete": "CASCADE",
          "match": "NONE"
        }
      ],
      "indexes": [
        {
          "name": "idx_campaign_recipients_contact_id",
          "unique": 0,
          "origin": "c",
          "partial": 0,
          "columns": [
            "contact_id"
          ]
        },
        {
          "name": "idx_campaign_recipients_status",
          "unique": 0,
          "origin": "c",
          "partial": 0,
          "columns": [
            "status"
          ]
        },
        {
          "name": "idx_campaign_recipients_campaign_id",
          "unique": 0,
          "origin": "c",
          "partial": 0,
          "columns": [
            "campaign_id"
          ]
        }
      ]
    },
    "campaigns": {
      "columns": [
        {
          "cid": 0,
          "name": "id",
          "type": "INTEGER",
          "notnull": 0,
          "dflt_value": null,
          "pk": 1
        },
        {
          "cid": 1,
          "name": "name",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 2,
          "name": "status",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": "'draft'",
          "pk": 0
        },
        {
          "cid": 3,
          "name": "message_template",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 4,
          "name": "started_at",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 5,
          "name": "completed_at",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 6,
          "name": "total_recipients",
          "type": "INTEGER",
          "notnull": 0,
          "dflt_value": "0",
          "pk": 0
        },
        {
          "cid": 7,
          "name": "sent_count",
          "type": "INTEGER",
          "notnull": 0,
          "dflt_value": "0",
          "pk": 0
        },
        {
          "cid": 8,
          "name": "created_at",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": "datetime('now')",
          "pk": 0
        },
        {
          "cid": 9,
          "name": "type",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": "'twilio_template'",
          "pk": 0
        },
        {
          "cid": 10,
          "name": "scheduled_at",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 11,
          "name": "updated_at",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": "'2026-01-11 00:01:16'",
          "pk": 0
        },
        {
          "cid": 12,
          "name": "content_sid",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 13,
          "name": "filters",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 14,
          "name": "paused_at",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 15,
          "name": "failed_at",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 16,
          "name": "error_message",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        }
      ],
      "foreignKeys": [],
      "indexes": [
        {
          "name": "idx_campaigns_scheduled_at",
          "unique": 0,
          "origin": "c",
          "partial": 0,
          "columns": [
            "scheduled_at"
          ]
        },
        {
          "name": "idx_campaigns_type",
          "unique": 0,
          "origin": "c",
          "partial": 0,
          "columns": [
            "type"
          ]
        },
        {
          "name": "idx_campaigns_created_at",
          "unique": 0,
          "origin": "c",
          "partial": 0,
          "columns": [
            "created_at"
          ]
        },
        {
          "name": "idx_campaigns_status",
          "unique": 0,
          "origin": "c",
          "partial": 0,
          "columns": [
            "status"
          ]
        }
      ]
    },
    "contacts": {
      "columns": [
        {
          "cid": 0,
          "name": "id",
          "type": "INTEGER",
          "notnull": 0,
          "dflt_value": null,
          "pk": 1
        },
        {
          "cid": 1,
          "name": "phone",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 2,
          "name": "name",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 3,
          "name": "status",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": "'active'",
          "pk": 0
        },
        {
          "cid": 4,
          "name": "created_at",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": "datetime('now')",
          "pk": 0
        },
        {
          "cid": 5,
          "name": "updated_at",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": "datetime('now')",
          "pk": 0
        }
      ],
      "foreignKeys": [],
      "indexes": [
        {
          "name": "idx_contacts_created_at",
          "unique": 0,
          "origin": "c",
          "partial": 0,
          "columns": [
            "created_at"
          ]
        },
        {
          "name": "idx_contacts_status",
          "unique": 0,
          "origin": "c",
          "partial": 0,
          "columns": [
            "status"
          ]
        },
        {
          "name": "idx_contacts_phone",
          "unique": 0,
          "origin": "c",
          "partial": 0,
          "columns": [
            "phone"
          ]
        },
        {
          "name": "sqlite_autoindex_contacts_1",
          "unique": 1,
          "origin": "u",
          "partial": 0,
          "columns": [
            "phone"
          ]
        }
      ]
    },
    "messages": {
      "columns": [
        {
          "cid": 0,
          "name": "id",
          "type": "INTEGER",
          "notnull": 0,
          "dflt_value": null,
          "pk": 1
        },
        {
          "cid": 1,
          "name": "direction",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 2,
          "name": "contact_id",
          "type": "INTEGER",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 3,
          "name": "campaign_id",
          "type": "INTEGER",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 4,
          "name": "phone",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 5,
          "name": "body",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 6,
          "name": "message_sid",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 7,
          "name": "status",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 8,
          "name": "created_at",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": "datetime('now')",
          "pk": 0
        }
      ],
      "foreignKeys": [
        {
          "id": 0,
          "seq": 0,
          "table": "campaigns",
          "from": "campaign_id",
          "to": "id",
          "on_update": "NO ACTION",
          "on_delete": "SET NULL",
          "match": "NONE"
        },
        {
          "id": 1,
          "seq": 0,
          "table": "contacts",
          "from": "contact_id",
          "to": "id",
          "on_update": "NO ACTION",
          "on_delete": "SET NULL",
          "match": "NONE"
        }
      ],
      "indexes": [
        {
          "name": "idx_messages_message_sid",
          "unique": 0,
          "origin": "c",
          "partial": 0,
          "columns": [
            "message_sid"
          ]
        },
        {
          "name": "idx_messages_created_at",
          "unique": 0,
          "origin": "c",
          "partial": 0,
          "columns": [
            "created_at"
          ]
        },
        {
          "name": "idx_messages_campaign_id",
          "unique": 0,
          "origin": "c",
          "partial": 0,
          "columns": [
            "campaign_id"
          ]
        },
        {
          "name": "idx_messages_contact_id",
          "unique": 0,
          "origin": "c",
          "partial": 0,
          "columns": [
            "contact_id"
          ]
        },
        {
          "name": "idx_messages_direction",
          "unique": 0,
          "origin": "c",
          "partial": 0,
          "columns": [
            "direction"
          ]
        },
        {
          "name": "sqlite_autoindex_messages_1",
          "unique": 1,
          "origin": "u",
          "partial": 0,
          "columns": [
            "message_sid"
          ]
        }
      ]
    },
    "opt_outs": {
      "columns": [
        {
          "cid": 0,
          "name": "id",
          "type": "INTEGER",
          "notnull": 0,
          "dflt_value": null,
          "pk": 1
        },
        {
          "cid": 1,
          "name": "phone",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 2,
          "name": "opted_out_at",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": "datetime('now')",
          "pk": 0
        },
        {
          "cid": 3,
          "name": "reason",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        }
      ],
      "foreignKeys": [],
      "indexes": [
        {
          "name": "idx_opt_outs_phone",
          "unique": 0,
          "origin": "c",
          "partial": 0,
          "columns": [
            "phone"
          ]
        },
        {
          "name": "sqlite_autoindex_opt_outs_1",
          "unique": 1,
          "origin": "u",
          "partial": 0,
          "columns": [
            "phone"
          ]
        }
      ]
    },
    "sqlite_sequence": {
      "columns": [
        {
          "cid": 0,
          "name": "name",
          "type": "",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 1,
          "name": "seq",
          "type": "",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        }
      ],
      "foreignKeys": [],
      "indexes": []
    },
    "vehicles": {
      "columns": [
        {
          "cid": 0,
          "name": "id",
          "type": "INTEGER",
          "notnull": 0,
          "dflt_value": null,
          "pk": 1
        },
        {
          "cid": 1,
          "name": "contact_id",
          "type": "INTEGER",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 2,
          "name": "make",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 3,
          "name": "model",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 4,
          "name": "year",
          "type": "INTEGER",
          "notnull": 1,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 5,
          "name": "price",
          "type": "REAL",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 6,
          "name": "link",
          "type": "TEXT",
          "notnull": 0,
          "dflt_value": null,
          "pk": 0
        },
        {
          "cid": 7,
          "name": "created_at",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": "datetime('now')",
          "pk": 0
        },
        {
          "cid": 8,
          "name": "updated_at",
          "type": "TEXT",
          "notnull": 1,
          "dflt_value": "datetime('now')",
          "pk": 0
        }
      ],
      "foreignKeys": [
        {
          "id": 0,
          "seq": 0,
          "table": "contacts",
          "from": "contact_id",
          "to": "id",
          "on_update": "NO ACTION",
          "on_delete": "CASCADE",
          "match": "NONE"
        }
      ],
      "indexes": [
        {
          "name": "idx_vehicles_year",
          "unique": 0,
          "origin": "c",
          "partial": 0,
          "columns": [
            "year"
          ]
        },
        {
          "name": "idx_vehicles_make",
          "unique": 0,
          "origin": "c",
          "partial": 0,
          "columns": [
            "make"
          ]
        },
        {
          "name": "idx_vehicles_contact_id",
          "unique": 0,
          "origin": "c",
          "partial": 0,
          "columns": [
            "contact_id"
          ]
        }
      ]
    }
  },
  "views": [],
  "triggers": [
    {
      "name": "trg_campaigns_updated_at",
      "type": "trigger",
      "tbl_name": "campaigns",
      "sql": "CREATE TRIGGER trg_campaigns_updated_at\nAFTER UPDATE ON campaigns\nFOR EACH ROW\nBEGIN\n    UPDATE campaigns SET updated_at = datetime('now') WHERE id = NEW.id;\nEND"
    },
    {
      "name": "trg_contacts_updated_at",
      "type": "trigger",
      "tbl_name": "contacts",
      "sql": "CREATE TRIGGER trg_contacts_updated_at\nAFTER UPDATE ON contacts\nFOR EACH ROW\nBEGIN\n    UPDATE contacts SET updated_at = datetime('now') WHERE id = NEW.id;\nEND"
    },
    {
      "name": "trg_vehicles_updated_at",
      "type": "trigger",
      "tbl_name": "vehicles",
      "sql": "CREATE TRIGGER trg_vehicles_updated_at\nAFTER UPDATE ON vehicles\nFOR EACH ROW\nBEGIN\n    UPDATE vehicles SET updated_at = datetime('now') WHERE id = NEW.id;\nEND"
    }
  ],
  "indexes": [
    {
      "name": "idx_campaign_recipients_campaign_id",
      "type": "index",
      "tbl_name": "campaign_recipients",
      "sql": "CREATE INDEX idx_campaign_recipients_campaign_id ON campaign_recipients(campaign_id)"
    },
    {
      "name": "idx_campaign_recipients_contact_id",
      "type": "index",
      "tbl_name": "campaign_recipients",
      "sql": "CREATE INDEX idx_campaign_recipients_contact_id ON campaign_recipients(contact_id)"
    },
    {
      "name": "idx_campaign_recipients_status",
      "type": "index",
      "tbl_name": "campaign_recipients",
      "sql": "CREATE INDEX idx_campaign_recipients_status ON campaign_recipients(status)"
    },
    {
      "name": "idx_campaigns_created_at",
      "type": "index",
      "tbl_name": "campaigns",
      "sql": "CREATE INDEX idx_campaigns_created_at ON campaigns(created_at)"
    },
    {
      "name": "idx_campaigns_scheduled_at",
      "type": "index",
      "tbl_name": "campaigns",
      "sql": "CREATE INDEX idx_campaigns_scheduled_at ON campaigns(scheduled_at)"
    },
    {
      "name": "idx_campaigns_status",
      "type": "index",
      "tbl_name": "campaigns",
      "sql": "CREATE INDEX idx_campaigns_status ON campaigns(status)"
    },
    {
      "name": "idx_campaigns_type",
      "type": "index",
      "tbl_name": "campaigns",
      "sql": "CREATE INDEX idx_campaigns_type ON campaigns(type)"
    },
    {
      "name": "idx_contacts_created_at",
      "type": "index",
      "tbl_name": "contacts",
      "sql": "CREATE INDEX idx_contacts_created_at ON contacts(created_at)"
    },
    {
      "name": "idx_contacts_phone",
      "type": "index",
      "tbl_name": "contacts",
      "sql": "CREATE INDEX idx_contacts_phone ON contacts(phone)"
    },
    {
      "name": "idx_contacts_status",
      "type": "index",
      "tbl_name": "contacts",
      "sql": "CREATE INDEX idx_contacts_status ON contacts(status)"
    },
    {
      "name": "idx_messages_campaign_id",
      "type": "index",
      "tbl_name": "messages",
      "sql": "CREATE INDEX idx_messages_campaign_id ON messages(campaign_id)"
    },
    {
      "name": "idx_messages_contact_id",
      "type": "index",
      "tbl_name": "messages",
      "sql": "CREATE INDEX idx_messages_contact_id ON messages(contact_id)"
    },
    {
      "name": "idx_messages_created_at",
      "type": "index",
      "tbl_name": "messages",
      "sql": "CREATE INDEX idx_messages_created_at ON messages(created_at)"
    },
    {
      "name": "idx_messages_direction",
      "type": "index",
      "tbl_name": "messages",
      "sql": "CREATE INDEX idx_messages_direction ON messages(direction)"
    },
    {
      "name": "idx_messages_message_sid",
      "type": "index",
      "tbl_name": "messages",
      "sql": "CREATE INDEX idx_messages_message_sid ON messages(message_sid)"
    },
    {
      "name": "idx_opt_outs_phone",
      "type": "index",
      "tbl_name": "opt_outs",
      "sql": "CREATE INDEX idx_opt_outs_phone ON opt_outs(phone)"
    },
    {
      "name": "idx_vehicles_contact_id",
      "type": "index",
      "tbl_name": "vehicles",
      "sql": "CREATE INDEX idx_vehicles_contact_id ON vehicles(contact_id)"
    },
    {
      "name": "idx_vehicles_make",
      "type": "index",
      "tbl_name": "vehicles",
      "sql": "CREATE INDEX idx_vehicles_make ON vehicles(make)"
    },
    {
      "name": "idx_vehicles_year",
      "type": "index",
      "tbl_name": "vehicles",
      "sql": "CREATE INDEX idx_vehicles_year ON vehicles(year)"
    },
    {
      "name": "sqlite_autoindex_contacts_1",
      "type": "index",
      "tbl_name": "contacts",
      "sql": null
    },
    {
      "name": "sqlite_autoindex_messages_1",
      "type": "index",
      "tbl_name": "messages",
      "sql": null
    },
    {
      "name": "sqlite_autoindex_opt_outs_1",
      "type": "index",
      "tbl_name": "opt_outs",
      "sql": null
    }
  ]
}